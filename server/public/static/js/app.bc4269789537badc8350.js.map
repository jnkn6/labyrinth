{"version":3,"sources":["webpack:///./src/App.vue?317b","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///./src/pages/MainPage.vue?a816","webpack:///./src/pages/MainPage.vue","webpack:///src/pages/MainPage.vue","webpack:///src/components/AppHeader.vue","webpack:///./src/components/AppHeader.vue?14ab","webpack:///./src/components/AppHeader.vue","webpack:///./src/utils/const.js","webpack:///./src/graphql/image.js","webpack:///src/components/infocard/InfoCardSlot.vue","webpack:///./src/components/infocard/InfoCardSlot.vue?2021","webpack:///./src/components/infocard/InfoCardSlot.vue","webpack:///src/components/Editor.vue","webpack:///./src/components/Editor.vue?1bf3","webpack:///./src/components/Editor.vue","webpack:///src/components/infocard/DomainInfoCard.vue","webpack:///./src/components/infocard/DomainInfoCard.vue?6009","webpack:///./src/components/infocard/DomainInfoCard.vue","webpack:///src/components/infocard/PageInfoCard.vue","webpack:///./src/components/infocard/PageInfoCard.vue?6d76","webpack:///./src/components/infocard/PageInfoCard.vue","webpack:///src/components/infocard/ComponentInfoCard.vue","webpack:///./src/components/infocard/ComponentInfoCard.vue?9ef2","webpack:///src/components/infocard/InfoCard.vue","webpack:///./src/components/infocard/ComponentInfoCard.vue","webpack:///./src/components/infocard/InfoCard.vue?2c92","webpack:///./src/components/infocard/InfoCard.vue","webpack:///./src/components/flowgraph/custom-node/FlowGraphNode.js","webpack:///./src/components/flowgraph/ReactFlowGraph.js","webpack:///src/components/flowgraph/NodeMenu.vue","webpack:///./src/components/flowgraph/NodeMenu.vue?3626","webpack:///./src/components/flowgraph/NodeMenu.vue","webpack:///src/components/flowgraph/FlowGraph.vue","webpack:///./src/components/flowgraph/FlowGraph.vue?6b43","webpack:///./src/components/flowgraph/FlowGraph.vue","webpack:///src/components/DomainAddButton.vue","webpack:///./src/components/DomainAddButton.vue?bc0b","webpack:///./src/components/DomainAddButton.vue","webpack:///src/pages/GraphPage.vue","webpack:///./src/pages/GraphPage.vue?22d6","webpack:///./src/pages/GraphPage.vue","webpack:///./src/router/index.js","webpack:///./src/store/mutations.js","webpack:///./src/store/mutations-types.js","webpack:///./src/graphql/domain.js","webpack:///./src/graphql/page.js","webpack:///./src/graphql/component.js","webpack:///./src/store/actions.js","webpack:///./src/store/index.js","webpack:///./src/store/states.js","webpack:///./src/store/getters.js","webpack:///./src/main.js"],"names":["selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","staticRenderFns","src_App","__webpack_require__","normalizeComponent","name","pages_MainPage","_v","src_pages_MainPage","MainPage_normalizeComponent","AppHeader","methods","extends_default","Object","vuex_esm","onDrag","event","setDraggingTag","target","id","components_AppHeader","_vm","attrs","color","dense","dark","scopedSlots","_u","key","fn","ref","on","_g","_b","icon","draggable","drag","src_components_AppHeader","AppHeader_normalizeComponent","modes","modesCategory","DOMAIN","PAGE","COMPONENT","EDIT","ALLIMAGE_QUERY","gql","_templateObject","InfoCardSlot","components","FilePond","vue_filepond_default","filepond_plugin_file_rename_default","a","filepond_plugin_image_preview_default","filepond_plugin_copy_path_default","props","isEditing","type","Boolean","node","data","images","fileRenameFunction","file","window","prompt","_id","extension","handleFilePondInit","_this","$apollo","query","variables","then","res","allImages","forEach","element","push","source","options","infocard_InfoCardSlot","elevation","outlined","click","$event","$emit","_t","label-idle","allow-multiple","accepted-file-types","server","url","process","revert","restore","load","files","copyRelativePath","alertCopyPath","init","_e","rounded","components_infocard_InfoCardSlot","InfoCardSlot_normalizeComponent","Editor","value","String","config","easymde","bindingEvents","codemirror","instance","changeObj","origin","val","handleInput","handleBlur","isUpdated","mounted","$el","firstElementChild","renderingConfig","singleLineBreaks","codeSyntaxHighlighting","hljs","lib_default","sanitizerFunction","renderedHTML","purify_default","sanitize","USE_PROFILES","html","initialValue","showIcons","easymde_default","components_Editor","_m","staticClass","src_components_Editor","Editor_normalizeComponent","DomainInfoCard","mode","watch","handler","next","prev","workMode","memo","memoModified","computed","title","includes","compiledMemo","marked_default","onClose","onEdit","onSave","newDomainData","modifyDomainNode","vue","oldNode","onCancel","onMemoInput","onMemoBlur","infocard_DomainInfoCard","slot","_s","domProps","innerHTML","label","disabled","model","callback","$$v","expression","input","blur","components_infocard_DomainInfoCard","DomainInfoCard_normalizeComponent","PageInfoCard","path","nameModified","pathModified","newPageData","modifyPageNode","beforeDestroy","beforeUpdate","infocard_PageInfoCard","components_infocard_PageInfoCard","PageInfoCard_normalizeComponent","ComponentInfoCard","newComponentData","modifyComponentNode","infocard_ComponentInfoCard","InfoCard","ComponentInfoCard_normalizeComponent","infocard_InfoCard","components_infocard_InfoCard","InfoCard_normalizeComponent","DomainNode","_ref","react_default","createElement","className","ReactFlow_esm","position","PageNode","_ref2","ComponentNode","_ref3","NodeMenu","selectedMenuNode","positionX","Number","positionY","isPageOpened","componentOpendPages","onClickOpenPages","emptyComponentNodes","emptyPageNodes","emptyEdges","fetchPageNodes","domainNode","onClickAddPage","createNode","x","y","newNode","onClickOpenComponents","_this2","index","indexOf","splice","closeComponentNodes","fetchComponentNodes","pageNode","onClickAddComponent","pageId","parentId","page","createComponentNode","flowgraph_NodeMenu","components_flowgraph_NodeMenu","NodeMenu_normalizeComponent","FlowGraph","domain","ReactFlowGraph","nodeTypes","component","graphStyles","width","height","innerHeight","toString","style","elements","onElementClick","onDrop","onDragOver","preventDefault","onNodeContextMenu","showInfo","selectedNode","showNodeMenu","nodeMenuX","nodeMenuY","clientX","clientY","onDomainClick","onPageClick","onComponentClick","onCloseInfo","flowgraph_FlowGraph","fluid","graphElements","position-x","position-y","absolute","components_flowgraph_FlowGraph","FlowGraph_normalizeComponent","DomainAddButton","onAddDomain","createDomainNode","components_DomainAddButton","src_components_DomainAddButton","DomainAddButton_normalizeComponent","ssrContext","GraphPage","created","fetchDomainNode","pages_GraphPage","length","align","src_pages_GraphPage","GraphPage_normalizeComponent","Vue","use","Router","router","routes","MainPage","default","mutations","_SET_DOMAIN_NODE$EMPT","defineProperty_default","state","pageNodes","componentNodes","edges","pageID","delete","concat","_","differenceBy","set","nodeId","newEdge","i","componentNode","draggingTag","newPageNode","newComponentNode","console","log","DOMAININFO_QUERY","domain__templateObject","CREATEDOMAIN_MUTATION","_templateObject2","MODIFYDOMAIN_MUTATION","_templateObject3","ALLPAGESINFO_QUERY","page__templateObject","page__templateObject2","CREATEPAGE_MUTATION","page__templateObject3","_templateObject4","MODIFYPAGE_MUTATION","_templateObject5","ALLCOMPONENTSINFO_QUERY","component__templateObject","CREATECOMPONENT_MUTATION","component__templateObject2","MODIFYCOMPONENT_MUTATION","component__templateObject3","actions","commit","domainInfo","_ref4","pages","allPagesInfo","$nextTick","catch","err","_ref5","_ref6","allComponentsInfo","x_modify","y_modify","parent","_ref7","_ref8","_ref9","_ref10","concatPageNodes","_ref11","concatEdges","_ref12","_ref13","_ref14","dispatch","_ref15","_ref16","mutate","mutation","groups","createComponent","edgeSource","_ref17","_ref18","createDomain","createPageNode","_ref19","_ref20","createPage","_ref21","_ref22","newDomainNode","modifyDomain","_ref23","_ref24","modifyPage","_ref25","_ref26","modifyComponent","_ref27","Vuex","store","Store","getters","d","__webpack_exports__","apolloClient","VuePlugin","Vuetify","productionTip","VueApollo","httpLink","createHttpLink","uri","ApolloClient","link","cache","InMemoryCache","addTypename","connectToDevTools","defaultOptions","watchQuery","fetchPolicy","errorPolicy","apolloProvider","defaultClient","el","vuetify","App","template"],"mappings":"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","file":"static/js/app.bc4269789537badc8350.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4b09eb43\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4b09eb43\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\r\n    <v-app>\r\n        <router-view/>\r\n    </v-app>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'App'\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._v(\"Main Page\")])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-82da45ac\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/MainPage.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MainPage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MainPage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-82da45ac\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./MainPage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/MainPage.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div>Main Page</div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n    name: \"MainPage\",\r\n}\r\n</script>\n\n\n// WEBPACK FOOTER //\n// src/pages/MainPage.vue","<template>\r\n    <v-app-bar\r\n      color=\"#01012b\"\r\n      dense\r\n      dark\r\n    >\r\n        <v-app-bar-nav-icon></v-app-bar-nav-icon>\r\n\r\n        <v-toolbar-title>Flow graph</v-toolbar-title>\r\n\r\n        <v-spacer></v-spacer>\r\n        <v-menu>\r\n            <template v-slot:activator=\"{ on, attrs }\">\r\n                <v-btn\r\n                    icon\r\n                    v-bind=\"attrs\"\r\n                    v-on=\"on\"\r\n                >\r\n                    <v-icon>mdi-plus</v-icon>\r\n                </v-btn>\r\n            </template>\r\n\r\n            <v-list>\r\n                <v-subheader>Add node</v-subheader>\r\n                <v-list-item>\r\n                    <v-chip draggable @drag=\"onDrag\" color=\"#ff2a6d\" id='domain'>\r\n                        Domain\r\n                    </v-chip>\r\n                </v-list-item>\r\n                <v-list-item>\r\n                    <v-chip draggable @drag=\"onDrag\" color=\"#d1f7ff\" id='page'>\r\n                        Page\r\n                    </v-chip>\r\n                </v-list-item>\r\n            </v-list>\r\n        </v-menu>\r\n    </v-app-bar>\r\n</template>\r\n<script>\r\nimport { mapActions } from 'vuex'\r\n\r\nexport default {\r\n    name: \"Header\",\r\n    methods: {\r\n        ...mapActions([\r\n            'setDraggingTag'\r\n        ]),\r\n        onDrag(event){\r\n            this.setDraggingTag(event.target.id)\r\n        }\r\n    }\r\n}\r\n\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/AppHeader.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app-bar',{attrs:{\"color\":\"#01012b\",\"dense\":\"\",\"dark\":\"\"}},[_c('v-app-bar-nav-icon'),_vm._v(\" \"),_c('v-toolbar-title',[_vm._v(\"Flow graph\")]),_vm._v(\" \"),_c('v-spacer'),_vm._v(\" \"),_c('v-menu',{scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\"}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-plus\")])],1)]}}])},[_vm._v(\" \"),_c('v-list',[_c('v-subheader',[_vm._v(\"Add node\")]),_vm._v(\" \"),_c('v-list-item',[_c('v-chip',{attrs:{\"draggable\":\"\",\"color\":\"#ff2a6d\",\"id\":\"domain\"},on:{\"drag\":_vm.onDrag}},[_vm._v(\"\\n                    Domain\\n                \")])],1),_vm._v(\" \"),_c('v-list-item',[_c('v-chip',{attrs:{\"draggable\":\"\",\"color\":\"#d1f7ff\",\"id\":\"page\"},on:{\"drag\":_vm.onDrag}},[_vm._v(\"\\n                    Page\\n                \")])],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-568b8b31\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/AppHeader.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./AppHeader.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./AppHeader.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-568b8b31\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./AppHeader.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/AppHeader.vue\n// module id = null\n// module chunks = ","export const modes = {\r\n    EDIT_COMPONENT: 'EDIT_COMPONENT',\r\n    EDIT_DOMAIN: 'EDIT_DOMAIN',\r\n    EDIT_PAGE: 'EDIT_PAGE',\r\n    READ_DOMAIN_INFO: 'READ_DOMAIN_INFO',\r\n    READ_PAGE_INFO: 'READ_PAGE_INFO',\r\n    READ_COMPONENT_INFO: 'READ_COMPONENT_INFO',\r\n}\r\n\r\nexport const modesCategory = {\r\n    DOMAIN: [\r\n        modes.READ_DOMAIN_INFO,\r\n        modes.EDIT_DOMAIN,\r\n    ],\r\n    PAGE: [\r\n        modes.EDIT_PAGE,\r\n        modes.READ_PAGE_INFO,\r\n    ],\r\n    COMPONENT: [\r\n        modes.EDIT_COMPONENT,\r\n        modes.READ_COMPONENT_INFO,\r\n    ],\r\n    EDIT: [\r\n        modes.EDIT_PAGE,\r\n        modes.EDIT_DOMAIN,\r\n        modes.EDIT_COMPONENT,\r\n    ],\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/const.js","import gql from 'graphql-tag'\r\n\r\nexport const ALLIMAGE_QUERY = gql`\r\n    query allImages($id: ID!) {\r\n        allImages(id: $id) {\r\n            source\r\n        }\r\n    }\r\n`\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/graphql/image.js","<template>\r\n    <v-card elevation=\"10\">\r\n        <v-card-actions>\r\n            <v-spacer />\r\n            <v-btn icon outlined @click=\"$emit('onClose')\">\r\n                <v-icon >mdi-close</v-icon>\r\n            </v-btn>\r\n        </v-card-actions>\r\n\r\n        <v-card-title>\r\n            <slot name=\"title\"></slot>\r\n        </v-card-title>\r\n\r\n        <v-card-text>\r\n            <slot name=\"readInfo\" v-if=\"!isEditing\"></slot>\r\n            <slot name=\"editInfo\" v-else></slot>\r\n\r\n            <file-pond\r\n                v-if=\"isEditing\"\r\n                name=\"filepond\"\r\n                ref=\"pond\"\r\n                label-idle=\"Drop files here...\"\r\n                :allow-multiple=\"true\"\r\n                accepted-file-types=\"image/png\"\r\n                :server=\"{\r\n                    url: 'http://127.0.0.1:3000',\r\n                    process: '/upload/img',\r\n                    revert: '/upload/img',\r\n                    restore: '/upload/',\r\n                    load: '/upload/',\r\n                }\"\r\n                :files=\"images\"\r\n                :fileRenameFunction=\"fileRenameFunction\"\r\n                :copyRelativePath=\"true\"\r\n                :alertCopyPath=\"true\"\r\n                @init=\"handleFilePondInit\"\r\n            />\r\n        </v-card-text>\r\n\r\n        <v-card-actions>\r\n            <v-spacer />\r\n            <v-btn elevation=\"3\" v-if=\"!isEditing\" rounded @click=\"$emit('onEdit')\">\r\n                <v-icon>\r\n                    mdi-pencil\r\n                </v-icon>\r\n                Edit\r\n            </v-btn>\r\n            <div v-else>\r\n                <v-btn elevation=\"1\" rounded @click=\"$emit('onCancel')\">\r\n                    <v-icon>\r\n                        mdi-cancel\r\n                    </v-icon>\r\n                    Cancel\r\n                </v-btn>\r\n                <v-btn elevation=\"3\" color=\"#99ff00\" rounded @click=\"$emit('onSave')\">\r\n                    <v-icon>\r\n                        mdi-checkbox-marked-circle\r\n                    </v-icon>\r\n                    Save\r\n                </v-btn>\r\n            </div>\r\n        </v-card-actions>\r\n    </v-card>\r\n</template>\r\n<script>\r\n\r\nimport vueFilePond from 'vue-filepond'\r\nimport 'filepond/dist/filepond.min.css'\r\n\r\nimport FilePondPluginFileRename from 'filepond-plugin-file-rename'\r\n\r\nimport FilePondPluginImagePreview  from 'filepond-plugin-image-preview'\r\nimport 'filepond-plugin-image-preview/dist/filepond-plugin-image-preview.min.css'\r\n\r\nimport FilePondPluginCopyPath from 'filepond-plugin-copy-path'\r\nimport 'filepond-plugin-copy-path/dist/filepond-plugin-copy-path.min.css'\r\n\r\nimport { ALLIMAGE_QUERY } from '@/graphql/image'\r\n\r\nconst FilePond = vueFilePond(\r\n    FilePondPluginFileRename,\r\n    FilePondPluginImagePreview,\r\n    FilePondPluginCopyPath,\r\n);\r\n\r\nexport default {\r\n    name: \"InfoCardSlot\",\r\n    components: {\r\n        FilePond\r\n    },\r\n    props: {\r\n        isEditing: {\r\n            type: Boolean\r\n        },\r\n        node: {\r\n            type: Object\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            images: [],\r\n        };\r\n    },\r\n    methods: {\r\n        fileRenameFunction(file){\r\n            let name = window.prompt('Enter new filename')\r\n            // get name from user\r\n\r\n            // sanitize\r\n\r\n            // 이미 동일한 이름의 파일이 있을 시 경고 메시지\r\n\r\n            return this.node.data._id + '_' + name + file.extension;\r\n        },\r\n        handleFilePondInit: function() {\r\n            let images = [];\r\n\r\n            // get uploaded file list\r\n            this.$apollo.query({\r\n            query: ALLIMAGE_QUERY,\r\n                variables : {\r\n                    id: this.node.data._id\r\n                },\r\n            }).then(res => {\r\n                res.data.allImages.forEach(element => {\r\n                    images.push({\r\n                        source: element.source,\r\n                        options: {\r\n                            type: 'limbo',\r\n                        },\r\n                    });\r\n                });\r\n\r\n                this.images = images;\r\n            });\r\n        },\r\n    },\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/infocard/InfoCardSlot.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{attrs:{\"elevation\":\"10\"}},[_c('v-card-actions',[_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"icon\":\"\",\"outlined\":\"\"},on:{\"click\":function($event){return _vm.$emit('onClose')}}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1)],1),_vm._v(\" \"),_c('v-card-title',[_vm._t(\"title\")],2),_vm._v(\" \"),_c('v-card-text',[(!_vm.isEditing)?_vm._t(\"readInfo\"):_vm._t(\"editInfo\"),_vm._v(\" \"),(_vm.isEditing)?_c('file-pond',{ref:\"pond\",attrs:{\"name\":\"filepond\",\"label-idle\":\"Drop files here...\",\"allow-multiple\":true,\"accepted-file-types\":\"image/png\",\"server\":{\n                url: 'http://127.0.0.1:3000',\n                process: '/upload/img',\n                revert: '/upload/img',\n                restore: '/upload/',\n                load: '/upload/',\n            },\"files\":_vm.images,\"fileRenameFunction\":_vm.fileRenameFunction,\"copyRelativePath\":true,\"alertCopyPath\":true},on:{\"init\":_vm.handleFilePondInit}}):_vm._e()],2),_vm._v(\" \"),_c('v-card-actions',[_c('v-spacer'),_vm._v(\" \"),(!_vm.isEditing)?_c('v-btn',{attrs:{\"elevation\":\"3\",\"rounded\":\"\"},on:{\"click\":function($event){return _vm.$emit('onEdit')}}},[_c('v-icon',[_vm._v(\"\\n                mdi-pencil\\n            \")]),_vm._v(\"\\n            Edit\\n        \")],1):_c('div',[_c('v-btn',{attrs:{\"elevation\":\"1\",\"rounded\":\"\"},on:{\"click\":function($event){return _vm.$emit('onCancel')}}},[_c('v-icon',[_vm._v(\"\\n                    mdi-cancel\\n                \")]),_vm._v(\"\\n                Cancel\\n            \")],1),_vm._v(\" \"),_c('v-btn',{attrs:{\"elevation\":\"3\",\"color\":\"#99ff00\",\"rounded\":\"\"},on:{\"click\":function($event){return _vm.$emit('onSave')}}},[_c('v-icon',[_vm._v(\"\\n                    mdi-checkbox-marked-circle\\n                \")]),_vm._v(\"\\n                Save\\n            \")],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7ab6e1fc\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/infocard/InfoCardSlot.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./InfoCardSlot.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./InfoCardSlot.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7ab6e1fc\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./InfoCardSlot.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/infocard/InfoCardSlot.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div class=\"easymde\">\r\n        <textarea/>\r\n    </div>\r\n</template>\r\n<script>\r\n\r\nimport EasyMDE from 'easymde'\r\nimport 'easymde/dist/easymde.min.css'\r\n\r\nimport DOMPurify from 'dompurify'\r\nimport hljs from 'highlight.js'\r\n\r\nexport default {\r\n    name: 'Editor',\r\n    props:{\r\n        value: String,\r\n    },\r\n    data(){\r\n        return {\r\n            config: {},\r\n            easymde: null,\r\n        }\r\n    },\r\n    methods: {\r\n        bindingEvents() {\r\n            this.easymde.codemirror.on('change', (instance, changeObj) => {\r\n                if (changeObj.origin === 'setValue') {\r\n                    return;\r\n                }\r\n                const val = this.easymde.value();\r\n                this.handleInput(val);\r\n            });\r\n            this.easymde.codemirror.on('blur', () => {\r\n                const val = this.easymde.value();\r\n                this.handleBlur(val);\r\n            });\r\n        },\r\n        handleInput(val) {\r\n            this.isUpdated = true;\r\n            this.$emit('input', val);\r\n        },\r\n        handleBlur(val) {\r\n            this.isUpdated = true;\r\n            this.$emit('blur', val);\r\n        },\r\n    },\r\n    mounted(){\r\n        this.config = {\r\n            element: this.$el.firstElementChild,\r\n            renderingConfig: {\r\n                singleLineBreaks: false,\r\n                codeSyntaxHighlighting: true,\r\n                hljs: hljs,\r\n                sanitizerFunction: (renderedHTML) => {\r\n                    return DOMPurify.sanitize(renderedHTML, {\r\n                        USE_PROFILES: {html: true}\r\n                    });\r\n                }\r\n            },\r\n            initialValue: this.value,\r\n            showIcons: [\"table\"],\r\n        }\r\n        this.easymde = new EasyMDE(this.config);\r\n\r\n        this.bindingEvents();\r\n    },\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/Editor.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"easymde\"},[_c('textarea')])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-263ac77a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Editor.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Editor.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Editor.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-263ac77a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Editor.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Editor.vue\n// module id = null\n// module chunks = ","<template>\r\n    <info-card-slot\r\n        @onClose=\"onClose\"\r\n        @onSave=\"onSave\"\r\n        @onEdit=\"onEdit\"\r\n        @onCancel=\"onCancel\"\r\n        :isEditing=\"isEditing\"\r\n        :node=\"node\"\r\n    >\r\n        <div slot=\"title\">{{title}}</div>\r\n        <div slot=\"readInfo\">\r\n            <p>url: {{url}}</p>\r\n            <p>memo: {{memo}}</p>\r\n            <v-card>\r\n                <v-card-title>Memo</v-card-title>\r\n                <v-card-text v-html=\"compiledMemo\" />\r\n            </v-card>\r\n        </div>\r\n        <div slot=\"editInfo\">\r\n            <v-row>\r\n                <v-col>\r\n                    <v-text-field\r\n                        v-model=\"url\"\r\n                        label=\"Domain URL\"\r\n                        disabled\r\n                    />\r\n                    <v-card>\r\n                        <v-card-title>Memo</v-card-title>\r\n                        <v-card-text>\r\n                        <editor :value=\"memoModified\" @input=\"onMemoInput\" @blur=\"onMemoBlur\"/>\r\n                        </v-card-text>\r\n                    </v-card>\r\n                </v-col>\r\n            </v-row>\r\n        </div>\r\n    </info-card-slot>\r\n</template>\r\n<script>\r\n\r\nimport { modes, modesCategory } from '@/utils/const'\r\nimport InfoCardSlot from './InfoCardSlot'\r\n\r\nimport marked from 'marked'\r\nimport DOMPurify from 'dompurify'\r\nimport Editor from '@/components/Editor'\r\n\r\nimport { mapActions } from 'vuex'\r\n\r\nexport default {\r\n    name: \"DomainInfoCard\",\r\n    props: {\r\n        mode: {\r\n            type: String\r\n        },\r\n        node: {\r\n            type: Object\r\n        }\r\n    },\r\n    components: {\r\n        InfoCardSlot,\r\n        Editor,\r\n    },\r\n    watch: {\r\n        mode:{\r\n            handler(next, prev){\r\n                this.workMode = next;\r\n                // Edit 중일 시, 수정한 부분이 있다면 물어보기.. 작업 날릴지 창 띄우기\r\n            }\r\n        },\r\n        node: {\r\n            handler(next, prev){\r\n                this.url = next.data.url;\r\n                this.memo = next.data.memo;\r\n\r\n                // Edit 중일 시, 수정한 부분이 있다면 물어보기.. 작업 날릴지 창 띄우기\r\n            }\r\n        },\r\n    },\r\n    data(){\r\n        return {\r\n            url: this.node.data.url,\r\n            memo: (this.node.data.memo === null) ? \"\" : this.node.data.memo,\r\n            workMode: this.mode,\r\n\r\n            memoModified: (this.node.data.memo === null) ? \"\" : this.node.data.memo,\r\n        }\r\n    },\r\n    computed: {\r\n        title() {\r\n            switch(this.workMode){\r\n                case modes.READ_DOMAIN_INFO:\r\n                    return 'Domain infomation';\r\n                case modes.EDIT_DOMAIN:\r\n                    return 'Edit domain information';\r\n            }\r\n        },\r\n        isEditing() {\r\n            return modesCategory.EDIT.includes(this.workMode)\r\n        },\r\n        compiledMemo() {\r\n            let renderedHTML = marked(this.memo);\r\n            return DOMPurify.sanitize(renderedHTML, {\r\n                USE_PROFILES: {html: true}\r\n            });\r\n        },\r\n    },\r\n    methods: {\r\n        ...mapActions([\r\n            'modifyDomainNode'\r\n        ]),\r\n        onClose(){\r\n            this.$emit('onClose')\r\n        },\r\n        onEdit(){\r\n            this.workMode = modes.EDIT_DOMAIN;\r\n        },\r\n        onSave(){\r\n            this.memo = this.memoModified;\r\n            let newDomainData = {\r\n                ...this.node.data,\r\n                memo: this.memo,\r\n            };\r\n\r\n            this.modifyDomainNode({\r\n                vue: this, \r\n                oldNode: this.node,\r\n                newDomainData: newDomainData,\r\n            }).then(() => {\r\n                this.workMode = modes.READ_DOMAIN_INFO;\r\n            });\r\n        },\r\n        onCancel(){\r\n            this.memoModified = this.memo;\r\n\r\n            this.workMode = modes.READ_DOMAIN_INFO;\r\n        },\r\n        onMemoInput(val){\r\n            this.memoModified = val;\r\n        },\r\n        onMemoBlur(val){\r\n            this.memoModified = val;\r\n        },\r\n    }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/infocard/DomainInfoCard.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('info-card-slot',{attrs:{\"isEditing\":_vm.isEditing,\"node\":_vm.node},on:{\"onClose\":_vm.onClose,\"onSave\":_vm.onSave,\"onEdit\":_vm.onEdit,\"onCancel\":_vm.onCancel}},[_c('div',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(_vm._s(_vm.title))]),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"readInfo\"},slot:\"readInfo\"},[_c('p',[_vm._v(\"url: \"+_vm._s(_vm.url))]),_vm._v(\" \"),_c('p',[_vm._v(\"memo: \"+_vm._s(_vm.memo))]),_vm._v(\" \"),_c('v-card',[_c('v-card-title',[_vm._v(\"Memo\")]),_vm._v(\" \"),_c('v-card-text',{domProps:{\"innerHTML\":_vm._s(_vm.compiledMemo)}})],1)],1),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"editInfo\"},slot:\"editInfo\"},[_c('v-row',[_c('v-col',[_c('v-text-field',{attrs:{\"label\":\"Domain URL\",\"disabled\":\"\"},model:{value:(_vm.url),callback:function ($$v) {_vm.url=$$v},expression:\"url\"}}),_vm._v(\" \"),_c('v-card',[_c('v-card-title',[_vm._v(\"Memo\")]),_vm._v(\" \"),_c('v-card-text',[_c('editor',{attrs:{\"value\":_vm.memoModified},on:{\"input\":_vm.onMemoInput,\"blur\":_vm.onMemoBlur}})],1)],1)],1)],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1d139dfd\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/infocard/DomainInfoCard.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./DomainInfoCard.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./DomainInfoCard.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1d139dfd\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./DomainInfoCard.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/infocard/DomainInfoCard.vue\n// module id = null\n// module chunks = ","<template>\r\n    <info-card-slot\r\n        @onClose=\"onClose\"\r\n        @onSave=\"onSave\"\r\n        @onEdit=\"onEdit\"\r\n        @onCancel=\"onCancel\"\r\n        :isEditing=\"isEditing\"\r\n        :node=\"node\"\r\n    >\r\n        <div slot=\"title\">{{title}}</div>\r\n        <div slot=\"readInfo\">\r\n            <p>name: {{name}}</p>\r\n            <p>path: {{path}}</p>\r\n            <v-card>\r\n                <v-card-title>Memo</v-card-title>\r\n                <v-card-text v-html=\"compiledMemo\" />\r\n            </v-card>\r\n        </div>\r\n        <div slot=\"editInfo\">\r\n            <v-row>\r\n                <v-col>\r\n                    <v-text-field\r\n                        v-model=\"nameModified\"\r\n                        label=\"Page name\"\r\n                    />\r\n                    <v-text-field\r\n                        v-model=\"pathModified\"\r\n                        label=\"Page path\"\r\n                    />\r\n                    <v-card>\r\n                        <v-card-title>Memo</v-card-title>\r\n                        <v-card-text>\r\n                        <editor :value=\"memoModified\" @input=\"onMemoInput\" @blur=\"onMemoBlur\"/>\r\n                        </v-card-text>\r\n                    </v-card>\r\n                </v-col>\r\n            </v-row>\r\n        </div>\r\n    </info-card-slot>\r\n</template>\r\n<script>\r\n\r\nimport { modes, modesCategory } from '@/utils/const'\r\nimport InfoCardSlot from './InfoCardSlot'\r\n\r\nimport marked from 'marked'\r\nimport DOMPurify from 'dompurify'\r\nimport Editor from '@/components/Editor'\r\n\r\nimport { mapActions } from 'vuex'\r\n\r\nexport default {\r\n    name: \"PageInfoCard\",\r\n    props: {\r\n        mode: {\r\n            type: String\r\n        },\r\n        node: {\r\n            type: Object\r\n        },\r\n    },\r\n    watch: {\r\n        mode:{\r\n            handler(next, prev){\r\n                this.workMode = next;\r\n                // Edit 중일 시, 수정한 부분이 있다면 물어보기.. 작업 날릴지 창 띄우기\r\n            }\r\n        },\r\n        node: {\r\n            handler(next, prev){\r\n                this.name = next.data.name;\r\n                this.path = next.data.path;\r\n                this.memo = (next.data.memo === null) ? \"\" : next.data.memo;\r\n\r\n                this.nameModified = next.data.name;\r\n                this.pathModified = next.data.path;\r\n                this.memoModified = (next.data.memo === null) ? \"\" : next.data.memo;\r\n\r\n                // If mode watcher not triggerd\r\n                if (this.mode !== this.workMode){\r\n                    this.workMode = this.mode;\r\n                }\r\n                // Edit 중일 시, 수정한 부분이 있다면 물어보기.. 작업 날릴지 창 띄우기\r\n            }\r\n        },\r\n    },\r\n    components: {\r\n        InfoCardSlot,\r\n        Editor,\r\n    },\r\n    data(){\r\n        return {\r\n            name: this.node.data.name,\r\n            path: this.node.data.path,\r\n            memo: (this.node.data.memo === null) ? \"\" : this.node.data.memo,\r\n\r\n            workMode: this.mode,\r\n\r\n            nameModified: this.node.data.name,\r\n            pathModified: this.node.data.path,\r\n            memoModified: (this.node.data.memo === null) ? \"\" : this.node.data.memo,\r\n        }\r\n    },\r\n    computed: {\r\n        title() {\r\n            switch(this.workMode){\r\n                case modes.EDIT_PAGE:\r\n                    return \"Edit page information\";\r\n                case modes.READ_PAGE_INFO:\r\n                    return 'Page informtaion';\r\n            }\r\n        },\r\n        isEditing() {\r\n            return modesCategory.EDIT.includes(this.workMode);\r\n        },\r\n        compiledMemo() {\r\n            let renderedHTML = marked(this.memo);\r\n            return DOMPurify.sanitize(renderedHTML, {\r\n                USE_PROFILES: {html: true}\r\n            });\r\n        }\r\n    },\r\n    methods: {\r\n        ...mapActions([\r\n            'modifyPageNode',\r\n        ]),\r\n        onClose(){\r\n            this.$emit('onClose')\r\n        },\r\n        onEdit(){\r\n            this.workMode = modes.EDIT_PAGE;\r\n        },\r\n        onSave(){\r\n            this.name = this.nameModified;\r\n            this.path = this.pathModified;\r\n            this.memo = this.memoModified;\r\n\r\n            let newPageData = {\r\n                ...this.node.data,\r\n                name: this.name,\r\n                path: this.path,\r\n                memo: this.memo,\r\n            };\r\n\r\n            this.modifyPageNode({\r\n                vue: this, \r\n                oldNode: this.node,\r\n                newPageData: newPageData,\r\n            }).then(() => {\r\n                this.workMode = modes.READ_PAGE_INFO;\r\n            });\r\n        },\r\n        onCancel(){\r\n            this.nameModified = this.name;\r\n            this.pathModified = this.path;\r\n            this.memoModified = this.memo;\r\n\r\n            this.workMode = modes.READ_PAGE_INFO;\r\n        },\r\n        onMemoInput(val){\r\n            this.memoModified = val;\r\n        },\r\n        onMemoBlur(val){\r\n            this.memoModified = val;\r\n        },\r\n    },\r\n    beforeDestroy(){\r\n        // Edit 중일 시, 수정한 부분이 있다면 물어보기.. 작업 날릴지 창 띄우기\r\n    },\r\n    beforeUpdate(){\r\n        // Edit 중일 시, 수정한 부분이 있다면 물어보기.. 작업 날릴지 창 띄우기\r\n        // props 변경이 여기서도 적용되기에 변경 지점이 있는지 체크하기 위해 다른 훅을 사용해야 할지도 모름\r\n    },\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/infocard/PageInfoCard.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('info-card-slot',{attrs:{\"isEditing\":_vm.isEditing,\"node\":_vm.node},on:{\"onClose\":_vm.onClose,\"onSave\":_vm.onSave,\"onEdit\":_vm.onEdit,\"onCancel\":_vm.onCancel}},[_c('div',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(_vm._s(_vm.title))]),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"readInfo\"},slot:\"readInfo\"},[_c('p',[_vm._v(\"name: \"+_vm._s(_vm.name))]),_vm._v(\" \"),_c('p',[_vm._v(\"path: \"+_vm._s(_vm.path))]),_vm._v(\" \"),_c('v-card',[_c('v-card-title',[_vm._v(\"Memo\")]),_vm._v(\" \"),_c('v-card-text',{domProps:{\"innerHTML\":_vm._s(_vm.compiledMemo)}})],1)],1),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"editInfo\"},slot:\"editInfo\"},[_c('v-row',[_c('v-col',[_c('v-text-field',{attrs:{\"label\":\"Page name\"},model:{value:(_vm.nameModified),callback:function ($$v) {_vm.nameModified=$$v},expression:\"nameModified\"}}),_vm._v(\" \"),_c('v-text-field',{attrs:{\"label\":\"Page path\"},model:{value:(_vm.pathModified),callback:function ($$v) {_vm.pathModified=$$v},expression:\"pathModified\"}}),_vm._v(\" \"),_c('v-card',[_c('v-card-title',[_vm._v(\"Memo\")]),_vm._v(\" \"),_c('v-card-text',[_c('editor',{attrs:{\"value\":_vm.memoModified},on:{\"input\":_vm.onMemoInput,\"blur\":_vm.onMemoBlur}})],1)],1)],1)],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2660fe6c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/infocard/PageInfoCard.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./PageInfoCard.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./PageInfoCard.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2660fe6c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./PageInfoCard.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/infocard/PageInfoCard.vue\n// module id = null\n// module chunks = ","<template>\r\n    <info-card-slot\r\n        @onClose=\"onClose\"\r\n        @onSave=\"onSave\"\r\n        @onEdit=\"onEdit\"\r\n        @onCancel=\"onCancel\"\r\n        :isEditing=\"isEditing\"\r\n        :node=\"node\"\r\n    >\r\n        <div slot=\"title\">{{title}}</div>\r\n        <div slot=\"readInfo\">\r\n            <p>name: {{name}}</p>\r\n            <v-card>\r\n                <v-card-title>Memo</v-card-title>\r\n                <v-card-text v-html=\"compiledMemo\" />\r\n            </v-card>\r\n        </div>\r\n        <div slot=\"editInfo\">\r\n            <v-row>\r\n                <v-col>\r\n                    <v-text-field\r\n                        v-model=\"nameModified\"\r\n                        label=\"Component name\"\r\n                    />\r\n\r\n                    <v-card>\r\n                        <v-card-title>Memo</v-card-title>\r\n                        <v-card-text>\r\n                        <editor :value=\"memoModified\" @input=\"onMemoInput\" @blur=\"onMemoBlur\"/>\r\n                        </v-card-text>\r\n                    </v-card>\r\n                </v-col>\r\n            </v-row>\r\n        </div>\r\n    </info-card-slot>\r\n</template>\r\n<script>\r\n\r\nimport { modes, modesCategory } from '@/utils/const'\r\nimport InfoCardSlot from './InfoCardSlot'\r\n\r\nimport marked from 'marked'\r\nimport DOMPurify from 'dompurify'\r\nimport Editor from '@/components/Editor'\r\n\r\nimport { mapActions } from 'vuex'\r\n\r\nexport default {\r\n    name: \"ComponentInfoCard\",\r\n    props: {\r\n        mode: {\r\n            type: String\r\n        },\r\n        node: {\r\n            type: Object\r\n        },\r\n    },\r\n    watch: {\r\n        mode:{\r\n            handler(next, prev){\r\n                this.workMode = next;\r\n                // Edit 중일 시, 수정한 부분이 있다면 물어보기.. 작업 날릴지 창 띄우기\r\n            }\r\n        },\r\n        node: {\r\n            handler(next, prev){\r\n                this.name = next.data.name;\r\n                this.memo = (next.data.memo === null) ? \"\" : next.data.memo;\r\n\r\n                this.nameModified = next.data.name;\r\n                this.memoModified = (next.data.memo === null) ? \"\" : next.data.memo;\r\n\r\n                // If mode watcher not triggerd\r\n                if (this.mode !== this.workMode){\r\n                    this.workMode = this.mode;\r\n                }\r\n                // Edit 중일 시, 수정한 부분이 있다면 물어보기.. 작업 날릴지 창 띄우기\r\n            }\r\n        },\r\n    },\r\n    components: {\r\n        InfoCardSlot,\r\n        Editor,\r\n    },\r\n    data(){\r\n        return {\r\n            name: this.node.data.name,\r\n            memo: (this.node.data.memo === null) ? \"\" : this.node.data.memo,\r\n\r\n            workMode: this.mode,\r\n\r\n            nameModified: this.node.data.name,\r\n            memoModified: (this.node.data.memo === null) ? \"\" : this.node.data.memo,\r\n        }\r\n    },\r\n    computed: {\r\n        title() {\r\n            switch(this.workMode){\r\n                case modes.EDIT_COMPONENT:\r\n                    return \"Edit component information\";\r\n                case modes.READ_COMPONENT_INFO:\r\n                    return 'Component informtaion';\r\n            }\r\n        },\r\n        isEditing() {\r\n            return modesCategory.EDIT.includes(this.workMode);\r\n        },\r\n        compiledMemo() {\r\n            let renderedHTML = marked(this.memo);\r\n            return DOMPurify.sanitize(renderedHTML, {\r\n                USE_PROFILES: {html: true}\r\n            });\r\n        }\r\n    },\r\n    methods: {\r\n        ...mapActions([\r\n            'modifyComponentNode',\r\n        ]),\r\n        onClose(){\r\n            this.$emit('onClose')\r\n        },\r\n        onEdit(){\r\n            this.workMode = modes.EDIT_COMPONENT;\r\n        },\r\n        onSave(){\r\n            this.name = this.nameModified;\r\n            this.memo = this.memoModified;\r\n\r\n            let newComponentData = {\r\n                ...this.node.data,\r\n                name: this.name,\r\n                memo: this.memo,\r\n            };\r\n\r\n            this.modifyComponentNode({\r\n                vue: this, \r\n                oldNode: this.node,\r\n                newComponentData: newComponentData,\r\n            }).then(() => {\r\n                this.workMode = modes.READ_COMPONENT_INFO;\r\n            });\r\n        },\r\n        onCancel(){\r\n            this.nameModified = this.name;\r\n            this.memoModified = this.memo;\r\n\r\n            this.workMode = modes.READ_COMPONENT_INFO;\r\n        },\r\n        onMemoInput(val){\r\n            this.memoModified = val;\r\n        },\r\n        onMemoBlur(val){\r\n            this.memoModified = val;\r\n        },\r\n    },\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/infocard/ComponentInfoCard.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('info-card-slot',{attrs:{\"isEditing\":_vm.isEditing,\"node\":_vm.node},on:{\"onClose\":_vm.onClose,\"onSave\":_vm.onSave,\"onEdit\":_vm.onEdit,\"onCancel\":_vm.onCancel}},[_c('div',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(_vm._s(_vm.title))]),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"readInfo\"},slot:\"readInfo\"},[_c('p',[_vm._v(\"name: \"+_vm._s(_vm.name))]),_vm._v(\" \"),_c('v-card',[_c('v-card-title',[_vm._v(\"Memo\")]),_vm._v(\" \"),_c('v-card-text',{domProps:{\"innerHTML\":_vm._s(_vm.compiledMemo)}})],1)],1),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"editInfo\"},slot:\"editInfo\"},[_c('v-row',[_c('v-col',[_c('v-text-field',{attrs:{\"label\":\"Component name\"},model:{value:(_vm.nameModified),callback:function ($$v) {_vm.nameModified=$$v},expression:\"nameModified\"}}),_vm._v(\" \"),_c('v-card',[_c('v-card-title',[_vm._v(\"Memo\")]),_vm._v(\" \"),_c('v-card-text',[_c('editor',{attrs:{\"value\":_vm.memoModified},on:{\"input\":_vm.onMemoInput,\"blur\":_vm.onMemoBlur}})],1)],1)],1)],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5f2c6094\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/infocard/ComponentInfoCard.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div>\r\n        <domain-info-card\r\n            v-if=\"node.type === 'domain'\"\r\n            :mode=\"mode\"\r\n            :node=\"node\"\r\n            @onClose=\"$emit('onClose')\"\r\n        />\r\n        <page-info-card \r\n            v-if=\"node.type === 'page'\"\r\n            :mode=\"mode\"\r\n            :node=\"node\"\r\n            @onClose=\"$emit('onClose')\"\r\n        />\r\n        <component-info-card \r\n            v-if=\"node.type === 'component'\"\r\n            :mode=\"mode\"\r\n            :node=\"node\"\r\n            @onClose=\"$emit('onClose')\"\r\n        />\r\n    </div>\r\n</template>\r\n<script>\r\n\r\nimport { modes, modesCategory } from '@/utils/const'\r\n\r\nimport DomainInfoCard from './DomainInfoCard'\r\nimport PageInfoCard from './PageInfoCard'\r\nimport ComponentInfoCard from './ComponentInfoCard'\r\n\r\nexport default {\r\n    name: \"InfoCard\",\r\n    components: {\r\n        DomainInfoCard,\r\n        PageInfoCard,\r\n        ComponentInfoCard,\r\n    },\r\n    props: {\r\n        mode: {\r\n            type: String\r\n        },\r\n        node: {\r\n            type: Object\r\n        }\r\n    },\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/infocard/InfoCard.vue","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ComponentInfoCard.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ComponentInfoCard.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5f2c6094\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ComponentInfoCard.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/infocard/ComponentInfoCard.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.node.type === 'domain')?_c('domain-info-card',{attrs:{\"mode\":_vm.mode,\"node\":_vm.node},on:{\"onClose\":function($event){return _vm.$emit('onClose')}}}):_vm._e(),_vm._v(\" \"),(_vm.node.type === 'page')?_c('page-info-card',{attrs:{\"mode\":_vm.mode,\"node\":_vm.node},on:{\"onClose\":function($event){return _vm.$emit('onClose')}}}):_vm._e(),_vm._v(\" \"),(_vm.node.type === 'component')?_c('component-info-card',{attrs:{\"mode\":_vm.mode,\"node\":_vm.node},on:{\"onClose\":function($event){return _vm.$emit('onClose')}}}):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-28c90125\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/infocard/InfoCard.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./InfoCard.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./InfoCard.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-28c90125\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./InfoCard.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/infocard/InfoCard.vue\n// module id = null\n// module chunks = ","import React from 'react';\r\nimport { Handle } from 'react-flow-renderer';\r\nimport styles from './FlowGraphNode.css';\r\n\r\nexport function DomainNode ({data}) {\r\n\r\n    // input will be HTML encoded by react\r\n    return (\r\n        <div className='node domainNode'>\r\n            <div className='titleBox'>\r\n                <i className=\"mdi mdi-earth\"></i>\r\n                Domain\r\n            </div>\r\n            <div className=\"infoBox\">\r\n                <div>\r\n                    <b>URL </b>\r\n                    {data.url}\r\n                </div>\r\n            </div>\r\n            <Handle\r\n                type=\"source\"\r\n                position=\"right\"\r\n            />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport function PageNode ({data}) {\r\n\r\n    // input will be HTML encoded by react\r\n    return (\r\n        <div className=\"node pageNode\">\r\n            <Handle type=\"target\" position=\"left\"/>\r\n            <div className=\"titleBox\">\r\n                <i className=\"mdi mdi-file\"></i>\r\n                Page\r\n            </div>\r\n            <div className=\"infoBox\">\r\n                <div>\r\n                    <b>Path </b>\r\n                    {data.path}\r\n                    <br />\r\n                    <b>Name </b>\r\n                    {data.name}\r\n                </div>\r\n            </div>\r\n            <Handle type=\"source\" position=\"right\"/>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nexport function ComponentNode ({data}) {\r\n\r\n    // input will be HTML encoded by react\r\n    return (\r\n        <div className=\"node componentNode\">\r\n            <Handle type=\"target\" position=\"left\"/>\r\n            <div className=\"titleBox\">\r\n                <i className=\"mdi mdi-view-grid\"></i>\r\n                Component\r\n            </div>\r\n            <div className=\"infoBox\">\r\n                <div>\r\n                    <b>Name </b>\r\n                    {data.name}\r\n                </div>\r\n            </div>\r\n            <Handle type=\"source\" position=\"right\"/>\r\n        </div>\r\n    );\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/flowgraph/custom-node/FlowGraphNode.js","import React from 'react';\r\nimport ReactFlow, { MiniMap, Controls } from 'react-flow-renderer';\r\n\r\nimport { DomainNode, PageNode, ComponentNode } from './custom-node/FlowGraphNode'\r\n\r\nexport default (props) => {\r\n    const nodeTypes = {\r\n        domain: DomainNode,\r\n        page: PageNode,\r\n        component: ComponentNode,\r\n    };\r\n    const graphStyles = {\r\n        width: \"100%\",\r\n        height: (window.innerHeight*(0.6)).toString() + \"px\",\r\n    }\r\n    const onDragOver = (event) => {\r\n        event.preventDefault();\r\n    };\r\n    return (\r\n        <ReactFlow\r\n            nodeTypes={nodeTypes}\r\n            style={graphStyles}\r\n            elements={props.elements}\r\n            onElementClick={props.onElementClick}\r\n            onDrop={props.onDrop}\r\n            onDragOver={onDragOver}\r\n            onNodeContextMenu={props.onNodeContextMenu}\r\n        >\r\n            <MiniMap />\r\n            <Controls />\r\n        </ReactFlow>\r\n    );\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/flowgraph/ReactFlowGraph.js","<template>\r\n<div>\r\n    <v-list v-if=\"selectedMenuNode.type === 'domain'\">\r\n        <v-subheader>Domain Menu</v-subheader>\r\n        <v-list-item @click=\"onClickOpenPages\">\r\n            <v-list-item-avatar>\r\n                <v-icon >mdi-file</v-icon>\r\n            </v-list-item-avatar>\r\n            <v-list-item-content v-if=\"!isPageOpened\">\r\n                Open pages\r\n            </v-list-item-content>\r\n            <v-list-item-content v-else>\r\n                Close pages\r\n            </v-list-item-content>\r\n        </v-list-item>\r\n        <v-list-item @click=\"onClickAddPage\">\r\n            <v-list-item-avatar>\r\n                <v-icon >mdi-file-plus</v-icon>\r\n            </v-list-item-avatar>\r\n            <v-list-item-content>\r\n                Add page\r\n            </v-list-item-content>\r\n        </v-list-item>\r\n    </v-list>\r\n    <v-list v-else-if=\"selectedMenuNode.type === 'page'\">\r\n        <v-subheader>Page Menu</v-subheader>\r\n        <v-list-item @click=\"onClickOpenComponents\">\r\n            <v-list-item-avatar>\r\n                <v-icon >mdi-view-grid</v-icon>\r\n            </v-list-item-avatar>\r\n            <v-list-item-content v-if=\"!componentOpendPages.includes(selectedMenuNode.id)\">\r\n                Open components\r\n            </v-list-item-content>\r\n            <v-list-item-content v-else>\r\n                Close components\r\n            </v-list-item-content>\r\n        </v-list-item>\r\n        <v-list-item @click=\"onClickAddComponent\">\r\n            <v-list-item-avatar>\r\n                <v-icon >mdi-view-grid-plus</v-icon>\r\n            </v-list-item-avatar>\r\n            <v-list-item-content>\r\n                Add Component\r\n            </v-list-item-content>\r\n        </v-list-item>\r\n    </v-list>\r\n    <v-list v-else-if=\"selectedMenuNode.type === 'component'\">\r\n        <v-subheader>Component Menu</v-subheader>\r\n        <v-list-item @click=\"onClickAddComponent\">\r\n            <v-list-item-avatar>\r\n                <v-icon >mdi-view-grid-plus</v-icon>\r\n            </v-list-item-avatar>\r\n            <v-list-item-content>\r\n                Add Component\r\n            </v-list-item-content>\r\n        </v-list-item>\r\n    </v-list>\r\n</div>\r\n</template>\r\n<script>\r\n\r\nimport { mapActions } from 'vuex'\r\n\r\nexport default {\r\n    name: \"NodeMenu\",\r\n    props: {\r\n        selectedMenuNode : {\r\n            type: Object\r\n        },\r\n        positionX : {\r\n            type: Number\r\n        },\r\n        positionY : {\r\n            type: Number\r\n        },\r\n    },\r\n    data(){\r\n        return {\r\n            isPageOpened: false,\r\n            componentOpendPages: [],\r\n        }\r\n    },\r\n    methods: {\r\n        ...mapActions([\r\n            'createNode',\r\n            'createComponentNode',\r\n            'fetchPageNodes',\r\n            'fetchComponentNodes',\r\n            'emptyPageNodes',\r\n            'emptyComponentNodes',\r\n            'emptyEdges',\r\n            'closeComponentNodes',\r\n        ]),\r\n        onClickOpenPages(){ // onClickClosePages 핸들러 따로 만들어 이용하기\r\n            // If already opened, close nodes\r\n            if (this.isPageOpened) {\r\n                this.emptyComponentNodes();\r\n                this.emptyPageNodes();\r\n                this.emptyEdges();\r\n                this.isPageOpened = false;\r\n                return;\r\n            }\r\n\r\n            // Add page/edge\r\n            this.fetchPageNodes({\r\n                vue: this,\r\n                domainNode: this.selectedMenuNode\r\n            }).then(() => {\r\n                this.isPageOpened = true;\r\n            })\r\n        },\r\n        onClickAddPage(){\r\n            this.createNode({\r\n                vue: this,\r\n                type: 'page',\r\n                position: {x: this.positionX, y: this.positionY}\r\n            }).then((newNode) => {\r\n\r\n            });\r\n        },\r\n        onClickOpenComponents(){ // onClickCloseComponents 핸들러 따로 만들어 이용하기\r\n            // If already opened, close nodes\r\n            const index = this.componentOpendPages.indexOf(this.selectedMenuNode.id)\r\n            if (index > -1){\r\n                this.componentOpendPages.splice(index, 1)\r\n                this.closeComponentNodes(this.selectedMenuNode.id);\r\n                return;\r\n            }\r\n\r\n            // Add Component/edge\r\n            this.fetchComponentNodes({\r\n                vue: this,\r\n                pageNode: this.selectedMenuNode\r\n            }).then(() => {\r\n                this.componentOpendPages.push(this.selectedMenuNode.id)\r\n            })\r\n        },\r\n        onClickAddComponent(){\r\n            const isParentComponent = (this.selectedMenuNode.type === 'component');\r\n            let pageId = null;\r\n            let parentId = null;\r\n\r\n            if (!isParentComponent){\r\n                pageId = this.selectedMenuNode.id;\r\n            }\r\n            else{\r\n                // If it's nested component\r\n                pageId = this.selectedMenuNode.data.page;\r\n                parentId = this.selectedMenuNode.id;\r\n            }\r\n\r\n            this.createComponentNode({\r\n                vue: this,\r\n                type: 'component',\r\n                position: {x: this.positionX, y: this.positionY},\r\n                pageId: pageId,\r\n                parentId: parentId\r\n            }).then((newNode) => {\r\n\r\n            });\r\n        },\r\n    }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/flowgraph/NodeMenu.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.selectedMenuNode.type === 'domain')?_c('v-list',[_c('v-subheader',[_vm._v(\"Domain Menu\")]),_vm._v(\" \"),_c('v-list-item',{on:{\"click\":_vm.onClickOpenPages}},[_c('v-list-item-avatar',[_c('v-icon',[_vm._v(\"mdi-file\")])],1),_vm._v(\" \"),(!_vm.isPageOpened)?_c('v-list-item-content',[_vm._v(\"\\r\\n                Open pages\\r\\n            \")]):_c('v-list-item-content',[_vm._v(\"\\r\\n                Close pages\\r\\n            \")])],1),_vm._v(\" \"),_c('v-list-item',{on:{\"click\":_vm.onClickAddPage}},[_c('v-list-item-avatar',[_c('v-icon',[_vm._v(\"mdi-file-plus\")])],1),_vm._v(\" \"),_c('v-list-item-content',[_vm._v(\"\\r\\n                Add page\\r\\n            \")])],1)],1):(_vm.selectedMenuNode.type === 'page')?_c('v-list',[_c('v-subheader',[_vm._v(\"Page Menu\")]),_vm._v(\" \"),_c('v-list-item',{on:{\"click\":_vm.onClickOpenComponents}},[_c('v-list-item-avatar',[_c('v-icon',[_vm._v(\"mdi-view-grid\")])],1),_vm._v(\" \"),(!_vm.componentOpendPages.includes(_vm.selectedMenuNode.id))?_c('v-list-item-content',[_vm._v(\"\\r\\n                Open components\\r\\n            \")]):_c('v-list-item-content',[_vm._v(\"\\r\\n                Close components\\r\\n            \")])],1),_vm._v(\" \"),_c('v-list-item',{on:{\"click\":_vm.onClickAddComponent}},[_c('v-list-item-avatar',[_c('v-icon',[_vm._v(\"mdi-view-grid-plus\")])],1),_vm._v(\" \"),_c('v-list-item-content',[_vm._v(\"\\r\\n                Add Component\\r\\n            \")])],1)],1):(_vm.selectedMenuNode.type === 'component')?_c('v-list',[_c('v-subheader',[_vm._v(\"Component Menu\")]),_vm._v(\" \"),_c('v-list-item',{on:{\"click\":_vm.onClickAddComponent}},[_c('v-list-item-avatar',[_c('v-icon',[_vm._v(\"mdi-view-grid-plus\")])],1),_vm._v(\" \"),_c('v-list-item-content',[_vm._v(\"\\r\\n                Add Component\\r\\n            \")])],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-79117adc\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flowgraph/NodeMenu.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./NodeMenu.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./NodeMenu.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-79117adc\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./NodeMenu.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/flowgraph/NodeMenu.vue\n// module id = null\n// module chunks = ","<template>\r\n    <v-container fluid>\r\n        <div>\r\n            <react-flow-graph\r\n                :elements=\"graphElements\"\r\n                :onElementClick=\"onElementClick\"\r\n                :onDrop=\"onDrop\"\r\n                :onNodeContextMenu=\"onNodeContextMenu\"\r\n            />\r\n            <v-menu\r\n                v-model=\"showNodeMenu\"\r\n                :position-x=\"nodeMenuX\"\r\n                :position-y=\"nodeMenuY\"\r\n                absolute\r\n            >\r\n                <node-menu\r\n                    :selectedMenuNode=\"selectedMenuNode\"\r\n                    :positionX=\"nodeMenuX\"\r\n                    :positionY=\"nodeMenuY\"\r\n                />\r\n            </v-menu>\r\n            <info-card\r\n                v-if=\"showInfo\"\r\n                :mode=\"mode\" \r\n                :node=\"selectedNode\"\r\n                @onClose=\"onCloseInfo\"\r\n            />\r\n        </div>\r\n    </v-container >\r\n</template>\r\n\r\n<script>\r\n\r\nimport InfoCard from '@/components/infocard/InfoCard'\r\nimport ReactFlowGraph from './ReactFlowGraph'\r\nimport NodeMenu from './NodeMenu'\r\n\r\nimport { mapState, mapActions, mapGetters } from 'vuex'\r\n\r\nimport { modes } from '@/utils/const'\r\n\r\nexport default {\r\n    name: \"FlowGraph\",\r\n    props: {\r\n        domain: {\r\n            type: String\r\n        }\r\n    },\r\n    components: {\r\n        ReactFlowGraph,\r\n        InfoCard,\r\n        NodeMenu,\r\n    },\r\n    computed: {\r\n        ...mapGetters ([\r\n            'graphElements',\r\n        ]),\r\n        ...mapState([\r\n            'draggingTag',\r\n        ]),\r\n    },\r\n    data () {\r\n        return {\r\n            showInfo: false,\r\n            mode: null,\r\n            selectedNode: null,\r\n\r\n            showNodeMenu: false,\r\n            nodeMenuX: 0,\r\n            nodeMenuY: 0,\r\n            selectedMenuNode: null,\r\n        }\r\n    },\r\n    methods: {\r\n        ...mapActions([\r\n            'createNode',\r\n        ]),\r\n        onDrop (event) {\r\n            // this.createNode({\r\n            //     vue: this,\r\n            //     type: this.draggingTag,\r\n            //     position: {x: event.clientX, y: event.clientY - 48 /* app bar size */}\r\n            // }).then((newNode) => {\r\n            //     // Open editor to set info\r\n            //     switch(this.draggingTag){\r\n            //         case \"page\":\r\n            //             this.mode = modes.EDIT_PAGE;\r\n            //             break;\r\n            //         case \"component\":\r\n            //             this.mode = modes.EDIT_COMPONENT;\r\n            //             break;\r\n            //     }\r\n\r\n            //     this.selectedNode = newNode;\r\n            //     this.showInfo = true;\r\n            // });\r\n\r\n        },\r\n        onNodeContextMenu(event, element){\r\n            event.preventDefault();\r\n            this.nodeMenuX = event.clientX;\r\n            this.nodeMenuY = event.clientY;\r\n            this.selectedMenuNode = element;\r\n            this.showNodeMenu = true;\r\n        },\r\n        onElementClick(event, element){\r\n\r\n            // if clicked same node, close info card\r\n            if (this.showInfo && element.id === this.selectedNode.id){\r\n                this.mode = null;\r\n                this.selectedNode = null;\r\n                this.showInfo = false;\r\n\r\n                return;\r\n            }\r\n\r\n            switch(element.type){\r\n                case \"domain\":\r\n                    this.onDomainClick(event, element);\r\n                    break;\r\n                case \"page\":\r\n                    this.onPageClick(event, element);\r\n                    break;\r\n                case \"component\":\r\n                    this.onComponentClick(event, element);\r\n                    break;\r\n            }\r\n        },\r\n        onPageClick(event, element){\r\n            this.mode = modes.READ_PAGE_INFO;\r\n            this.selectedNode = element;\r\n            this.showInfo = true;\r\n        },\r\n        onDomainClick(event, element){\r\n            this.mode = modes.READ_DOMAIN_INFO;\r\n            this.selectedNode = element;\r\n            this.showInfo = true;\r\n        },\r\n        onComponentClick(event, element){\r\n            this.mode = modes.READ_COMPONENT_INFO;\r\n            this.selectedNode = element;\r\n            this.showInfo = true;\r\n        },\r\n        onCloseInfo(){\r\n            this.showInfo = false;\r\n            this.mode = null;\r\n            this.selectedNode = null;\r\n        }\r\n    },\r\n\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/flowgraph/FlowGraph.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fluid\":\"\"}},[_c('div',[_c('react-flow-graph',{attrs:{\"elements\":_vm.graphElements,\"onElementClick\":_vm.onElementClick,\"onDrop\":_vm.onDrop,\"onNodeContextMenu\":_vm.onNodeContextMenu}}),_vm._v(\" \"),_c('v-menu',{attrs:{\"position-x\":_vm.nodeMenuX,\"position-y\":_vm.nodeMenuY,\"absolute\":\"\"},model:{value:(_vm.showNodeMenu),callback:function ($$v) {_vm.showNodeMenu=$$v},expression:\"showNodeMenu\"}},[_c('node-menu',{attrs:{\"selectedMenuNode\":_vm.selectedMenuNode,\"positionX\":_vm.nodeMenuX,\"positionY\":_vm.nodeMenuY}})],1),_vm._v(\" \"),(_vm.showInfo)?_c('info-card',{attrs:{\"mode\":_vm.mode,\"node\":_vm.selectedNode},on:{\"onClose\":_vm.onCloseInfo}}):_vm._e()],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ae64b854\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/flowgraph/FlowGraph.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./FlowGraph.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./FlowGraph.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ae64b854\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./FlowGraph.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/flowgraph/FlowGraph.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div>\r\n        <span>\r\n            <p>{{domain}} is NOT registered.</p> \r\n            <p>Click the button if you want to register it.</p>\r\n        </span>\r\n        <v-btn dark color=\"#ff2a6d\" @click=\"onAddDomain\">Add Domain {{domain}}</v-btn>\r\n    </div>\r\n</template>\r\n<script>\r\n\r\nimport { mapActions } from 'vuex'\r\n\r\nexport default {\r\n    name: \"DomainAddButton\",\r\n    props: {\r\n        domain: {\r\n            type: String\r\n        }\r\n    },\r\n    methods: {\r\n        ...mapActions([\r\n            'createDomainNode'\r\n        ]),\r\n        onAddDomain(){\r\n            this.createDomainNode({\r\n                vue: this,\r\n                url: this.domain,\r\n            });\r\n        },\r\n    },\r\n}\r\n</script>\r\n<style scoped>\r\n.v-btn {\r\n    text-transform:none;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/DomainAddButton.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('span',[_c('p',[_vm._v(_vm._s(_vm.domain)+\" is NOT registered.\")]),_vm._v(\" \"),_c('p',[_vm._v(\"Click the button if you want to register it.\")])]),_vm._v(\" \"),_c('v-btn',{attrs:{\"dark\":\"\",\"color\":\"#ff2a6d\"},on:{\"click\":_vm.onAddDomain}},[_vm._v(\"Add Domain \"+_vm._s(_vm.domain))])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3af6eff4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/DomainAddButton.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3af6eff4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./DomainAddButton.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./DomainAddButton.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./DomainAddButton.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3af6eff4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./DomainAddButton.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3af6eff4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/DomainAddButton.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div>\r\n        <app-header />\r\n        <v-container fluid>\r\n            <v-row>\r\n                <v-col v-if=\"graphElements.length !== 0\">\r\n                    <flow-graph :domain=\"domain\"/>\r\n                </v-col>\r\n                <v-col v-else align=\"center\">\r\n                    <domain-add-button :domain=\"domain\"/>\r\n                </v-col>\r\n            </v-row>\r\n        </v-container>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport AppHeader from '@/components/AppHeader'\r\nimport FlowGraph from '@/components/flowgraph/FlowGraph'\r\nimport DomainAddButton from '@/components/DomainAddButton'\r\n\r\nimport { mapGetters, mapActions } from 'vuex'\r\n\r\nexport default {\r\n    name: \"GraphPage\",\r\n    props: {\r\n        domain: {\r\n            type: String\r\n        }\r\n    },\r\n    components: {\r\n        AppHeader,\r\n        FlowGraph,\r\n        DomainAddButton,\r\n    },\r\n    computed: {\r\n        ...mapGetters ([\r\n            'graphElements',\r\n        ]),\r\n    },\r\n    methods: {\r\n        ...mapActions([\r\n            'fetchDomainNode',\r\n        ]),\r\n    },\r\n    created(){\r\n        this.fetchDomainNode({vue: this, domain: this.domain})\r\n    },\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/GraphPage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('app-header'),_vm._v(\" \"),_c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-row',[(_vm.graphElements.length !== 0)?_c('v-col',[_c('flow-graph',{attrs:{\"domain\":_vm.domain}})],1):_c('v-col',{attrs:{\"align\":\"center\"}},[_c('domain-add-button',{attrs:{\"domain\":_vm.domain}})],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-28dc6c8f\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/GraphPage.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./GraphPage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./GraphPage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-28dc6c8f\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./GraphPage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/GraphPage.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\n\nimport MainPage from '@/pages/MainPage'\nimport GraphPage from '@/pages/GraphPage'\n\nVue.use(Router)\n\nexport default new Router({\n    mode: \"history\",\n    routes: [\n        {\n            path: '/',\n            name: 'MainPage',\n            component: MainPage\n        },\n        {\n            path: '/graph/:domain',\n            name: 'GraphPage',\n            components: {\n                default: GraphPage\n            },\n            props: {\n                default: true,\n            },\n        }\n    ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","import {\r\n    CONCAT_EDGES,\r\n    CONCAT_PAGE_NODES,\r\n    CONCAT_COMPONENT_NODES,\r\n    DELETE_PAGE_NODE,\r\n    EMPTY_EDGES,\r\n    EMPTY_PAGE_NODES,\r\n    SET_DOMAIN_NODE,\r\n    PUSH_PAGE_NODE,\r\n    SET_DRAGGING_TAG,\r\n    UPDATE_PAGE_NODE,\r\n    CLOSE_COMPONENT_NODES,\r\n    PUSH_COMPONENT_NODE,\r\n    UPDATE_COMPONENT_NODE,\r\n    EMPTY_COMPONENT_NODES,\r\n} from \"./mutations-types\";\r\n\r\nimport Vue from 'vue'\r\nimport _ from \"lodash\"\r\n\r\nexport default{\r\n    [SET_DOMAIN_NODE](state, domainNode){\r\n        state.domainNode = domainNode;\r\n    },\r\n    [EMPTY_PAGE_NODES](state){\r\n        state.pageNodes = [];\r\n    },\r\n    [EMPTY_COMPONENT_NODES](state){\r\n        state.componentNodes = {};\r\n    },\r\n    [EMPTY_EDGES](state){\r\n        state.edges = {};\r\n    },\r\n    [CLOSE_COMPONENT_NODES](state, pageID){\r\n        if (!state.componentNodes[pageID]){\r\n            return;\r\n        }\r\n\r\n        // remove edge\r\n        state.componentNodes[pageID].forEach(element => {\r\n            if (state.edges[element.data._id]){\r\n                Vue.delete(state.edges, element.data._id);\r\n            }\r\n        });\r\n\r\n        // remove node\r\n        Vue.delete(state.componentNodes, pageID);\r\n    },\r\n    [CONCAT_PAGE_NODES](state, pageNodes){\r\n        // need duplicate check\r\n        state.pageNodes = state.pageNodes.concat(pageNodes);\r\n    },\r\n    [CONCAT_COMPONENT_NODES](state, componentNodes){\r\n        // To Do: need duplicate check\r\n        \r\n        for (const parentId in componentNodes){\r\n            // Add new node's edge\r\n            if (!(parentId in state.componentNodes)){\r\n                Vue.set(state.componentNodes, parentId, componentNodes[parentId])\r\n                continue;\r\n            }\r\n\r\n            // If node is not new\r\n            let newNode = _.differenceBy(componentNodes[parentId], state.componentNodes[parentId], 'id');\r\n            state.componentNodes[parentId] = state.componentNodes[parentId].concat(newNode);\r\n        }\r\n    },\r\n    [CONCAT_EDGES](state, edges){\r\n        for (const nodeId in edges){\r\n            // Add new node's edge\r\n            if (!(nodeId in state.edges)){\r\n                Vue.set(state.edges, nodeId, edges[nodeId])\r\n                continue;\r\n            }\r\n \r\n            // If node is not new\r\n            let newEdge = _.differenceBy(state.edges[nodeId], edges[nodeId], 'id');\r\n            state.edges[nodeId] = state.edges[nodeId].concat(newEdge);\r\n        }\r\n    },\r\n    // [DELETE_CHILD_NODE](state, parent){\r\n    //     // find child node\r\n    //     // remove all edge\r\n\r\n    //     for (let i = 0; i< state.edges.length; i++){\r\n    //         if (state.edges[i].id === id){\r\n    //             state.edges.splice(i, 1);\r\n    //             break;\r\n    //         }\r\n    //     }\r\n\r\n    //     // need to handle loop graph\r\n    // },\r\n    [DELETE_PAGE_NODE](state, id){\r\n        //delete page node\r\n        for (let i = 0; i< state.pageNodes.length; i++){\r\n            if (state.pageNodes[i].id === id){\r\n                state.pageNodes.splice(i, 1);\r\n                break;\r\n            }\r\n        }\r\n\r\n        // delete edges concatenated with this node\r\n        for (let i = 0; i< state.edges.length; i++){\r\n            if (state.edges[i].target === id){\r\n                state.edges.splice(i, 1);\r\n            }\r\n            else if (state.edges[i].source === id){\r\n                state.edges.splice(i, 1);\r\n            }\r\n        }\r\n\r\n        // delete concatenated component nodes?\r\n    },\r\n    [PUSH_PAGE_NODE](state, pageNode){\r\n        state.pageNodes.push(pageNode);\r\n    },\r\n    [PUSH_COMPONENT_NODE](state, componentNode){\r\n        // If page already opend component node\r\n        const pageId = componentNode.data.page;\r\n        if (pageId in state.componentNodes){\r\n            state.componentNodes[pageId].push(componentNode);\r\n            return;\r\n        }\r\n\r\n        // If first open\r\n        Vue.set(state.componentNodes, pageId, [componentNode]);\r\n    },\r\n    [SET_DRAGGING_TAG](state, name){\r\n        state.draggingTag = name;\r\n    },\r\n    [UPDATE_PAGE_NODE](state, newPageNode){\r\n        for (let i = 0; i< state.pageNodes.length; i++){\r\n            if (state.pageNodes[i].id === newPageNode.id){\r\n                state.pageNodes.splice(i, 1);\r\n                state.pageNodes.push(newPageNode);\r\n                break;\r\n            }\r\n        }\r\n    },\r\n    [UPDATE_COMPONENT_NODE](state, newComponentNode){\r\n        const pageId = newComponentNode.data.page;\r\n        if (!(pageId in state.componentNodes)){\r\n            console.log(\"No node to update. Please add node first.\")\r\n            return;\r\n        }\r\n\r\n        for (let i = 0; i< state.componentNodes[pageId].length; i++){\r\n            if (state.componentNodes[pageId][i].id === newComponentNode.id){\r\n                state.componentNodes[pageId].splice(i, 1);\r\n                state.componentNodes[pageId].push(newComponentNode);\r\n                break;\r\n            }\r\n        }\r\n    },\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/store/mutations.js","export const SET_DOMAIN_NODE = 'SET_DOMAIN_NODE'\r\n\r\nexport const EMPTY_PAGE_NODES = 'EMPTY_PAGE_NODES'\r\nexport const EMPTY_COMPONENT_NODES = 'EMPTY_COMPONENT_NODES'\r\nexport const EMPTY_EDGES = 'EMPTY_EDGES'\r\n\r\nexport const CLOSE_COMPONENT_NODES = 'CLOSE_COMPONENT_NODES'\r\n\r\nexport const CONCAT_PAGE_NODES = 'CONCAT_PAGE_NODES'\r\nexport const CONCAT_COMPONENT_NODES = 'CONCAT_COMPONENT_NODES'\r\nexport const CONCAT_EDGES = 'CONCAT_EDGES'\r\n\r\nexport const DELETE_PAGE_NODE = 'DELETE_PAGE_NODE'\r\n\r\nexport const PUSH_PAGE_NODE = 'PUSH_PAGE_NODE'\r\nexport const PUSH_COMPONENT_NODE = 'PUSH_COMPONENT_NODE'\r\n\r\nexport const SET_DRAGGING_TAG = 'SET_DRAGGING_TAG'\r\n\r\nexport const UPDATE_PAGE_NODE = 'UPDATE_PAGE_NODE'\r\nexport const UPDATE_COMPONENT_NODE = 'UPDATE_COMPONENT_NODE'\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/mutations-types.js","import gql from 'graphql-tag'\r\n\r\nexport const DOMAININFO_QUERY = gql`\r\n    query domainInfo($url: String!) {\r\n        domainInfo(url: $url) {\r\n            _id\r\n            url\r\n            pages\r\n            memo\r\n        }\r\n}`\r\n\r\nexport const CREATEDOMAIN_MUTATION = gql`\r\n    mutation createDomain ($domain: DomainInput!) {\r\n        createDomain (domain: $domain) {\r\n            _id\r\n            url\r\n            pages\r\n            memo\r\n        }\r\n    }\r\n`\r\n\r\nexport const MODIFYDOMAIN_MUTATION = gql`\r\n    mutation modifyDomain ($domain: DomainInput!) {\r\n        modifyDomain (domain: $domain) {\r\n            _id\r\n            url\r\n            pages\r\n            memo\r\n        }\r\n    }\r\n`\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/graphql/domain.js","import gql from 'graphql-tag'\r\n\r\nexport const PAGEINFO_QUERY = gql`\r\n    query pageInfo ($_id: ID!) {\r\n        pageInfo (_id: $_id) {\r\n            _id\r\n            url\r\n            memo\r\n        }\r\n    }\r\n`\r\n\r\nexport const ALLPAGESINFO_QUERY = gql`\r\n    query allPagesInfo ($domain: ID!) {\r\n        allPagesInfo(domain: $domain) {\r\n            _id\r\n            name\r\n            path\r\n            domain\r\n            groups\r\n            components\r\n            memo\r\n        }\r\n    }\r\n`\r\n\r\nexport const PAGESINFO_QUERY = gql`\r\n    query pagesInfo ($ids: [ID!]!) {\r\n        pagesInfo(ids: $ids) {\r\n\r\n            _id\r\n            name\r\n\r\n        }\r\n    }\r\n\r\n`\r\n\r\nexport const CREATEPAGE_MUTATION = gql`\r\n    mutation createPage ($page: PageInput!) {\r\n        createPage (page: $page) {\r\n            _id\r\n            name\r\n            path\r\n            domain\r\n            groups\r\n            components\r\n            memo\r\n        }\r\n    }\r\n`\r\n\r\nexport const MODIFYPAGE_MUTATION = gql`\r\n    mutation modifyPage ($page: PageInput!) {\r\n        modifyPage (page: $page) {\r\n            _id\r\n            name\r\n            path\r\n            domain\r\n            groups\r\n            components\r\n            memo\r\n        }\r\n    }\r\n`\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/graphql/page.js","import gql from 'graphql-tag'\r\n\r\nexport const ALLCOMPONENTSINFO_QUERY = gql`\r\n    query allComponentsInfo ($page: ID!) {\r\n        allComponentsInfo(page: $page) {\r\n            _id\r\n            name\r\n            domain\r\n            page\r\n            parent\r\n            groups\r\n            components\r\n            memo\r\n        }\r\n    }\r\n`\r\n\r\nexport const CREATECOMPONENT_MUTATION = gql`\r\n    mutation createComponent ($component: ComponentInput!) {\r\n        createComponent (component: $component) {\r\n            _id\r\n            name\r\n            domain\r\n            page\r\n            parent\r\n            groups\r\n            components\r\n            memo\r\n        }\r\n    }\r\n`\r\n\r\nexport const MODIFYCOMPONENT_MUTATION = gql`\r\n    mutation modifyComponent ($component: ComponentInput!) {\r\n        modifyComponent (component: $component) {\r\n            _id\r\n            name\r\n            domain\r\n            page\r\n            parent\r\n            groups\r\n            components\r\n            memo\r\n        }\r\n    }\r\n`\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/graphql/component.js","import {\r\n    CONCAT_EDGES,\r\n    CONCAT_PAGE_NODES,\r\n    CONCAT_COMPONENT_NODES,\r\n    DELETE_PAGE_NODE,\r\n    EMPTY_EDGES,\r\n    EMPTY_PAGE_NODES,\r\n    SET_DOMAIN_NODE,\r\n    PUSH_PAGE_NODE,\r\n    SET_DRAGGING_TAG,\r\n    UPDATE_PAGE_NODE,\r\n    UPDATE_COMPONENT_NODE,\r\n    PUSH_COMPONENT_NODE,\r\n    CLOSE_COMPONENT_NODES,\r\n    EMPTY_COMPONENT_NODES,\r\n} from './mutations-types'\r\n\r\n// import Vue from 'vue'\r\n\r\nimport {\r\n    DOMAININFO_QUERY,\r\n    CREATEDOMAIN_MUTATION,\r\n    MODIFYDOMAIN_MUTATION,\r\n} from '@/graphql/domain'\r\n\r\nimport {\r\n    ALLPAGESINFO_QUERY,\r\n    CREATEPAGE_MUTATION,\r\n    MODIFYPAGE_MUTATION,\r\n} from '@/graphql/page'\r\n\r\nimport {\r\n    ALLCOMPONENTSINFO_QUERY,\r\n    CREATECOMPONENT_MUTATION,\r\n    MODIFYCOMPONENT_MUTATION,\r\n} from '@/graphql/component'\r\n\r\nexport default {\r\n    fetchDomainNode({commit}, {vue, domain}){\r\n        vue.$apollo.query({\r\n            query: DOMAININFO_QUERY,\r\n                variables : {\r\n                    url: domain\r\n                },\r\n        }).then(res => {\r\n            if (res.data.domainInfo != null){\r\n                commit(SET_DOMAIN_NODE, {\r\n                    id: res.data.domainInfo._id,\r\n                    type: 'domain',\r\n                    data: { ...res.data.domainInfo },\r\n                    position: {x:100, y:100}\r\n                });\r\n            }\r\n            else{\r\n                commit(SET_DOMAIN_NODE, null);\r\n            }\r\n\r\n        })\r\n    },\r\n    fetchPageNodes({commit}, {vue, domainNode}){\r\n        let pages = [];\r\n        let edges = {};\r\n\r\n        vue.$apollo.query({\r\n            query: ALLPAGESINFO_QUERY,\r\n            variables : {\r\n                domain: domainNode.data._id\r\n            },\r\n        }).then(res => {\r\n            let x = domainNode.position.x + 200;\r\n            let y = domainNode.position.y;\r\n    \r\n            res.data.allPagesInfo.forEach((page, index) => {\r\n\r\n                // Add node\r\n                pages.push({\r\n                    id: page._id,\r\n                    type: 'page',\r\n                    data: { ...page },\r\n                    position: { x: x, y: y },\r\n                });\r\n                y += 130;\r\n                \r\n                if (!(page._id in edges))\r\n                {\r\n                    edges[page._id] = [];\r\n                }\r\n                // Add edge\r\n                edges[page._id].push({\r\n                    id: \"e\" + domainNode.data._id + \"-\" + page._id,\r\n                    source: domainNode.data._id,\r\n                    target: page._id,\r\n                    type: \"step\"\r\n                });\r\n            });\r\n\r\n            commit(CONCAT_PAGE_NODES, pages);\r\n            vue.$nextTick(() => {\r\n                commit(CONCAT_EDGES, edges);\r\n            })\r\n        })\r\n        .catch(err => {console.log(err);})\r\n    },\r\n    fetchComponentNodes({commit}, {vue, pageNode} ){\r\n        // 노드 그리는 것 수정해야 함 - 계층적 트리구조 잘 보이게\r\n        let components = {};\r\n        let edges = {};\r\n\r\n        vue.$apollo.query({\r\n            query: ALLCOMPONENTSINFO_QUERY,\r\n            variables : {\r\n                page: pageNode.data._id\r\n            },\r\n        }).then(res => {\r\n            let x = pageNode.position.x + 200;\r\n            let y = pageNode.position.y;\r\n    \r\n            res.data.allComponentsInfo.forEach((component, index) => {\r\n\r\n                let source = pageNode.data._id;\r\n                let x_modify = x;\r\n                let y_modify = y;\r\n\r\n                // if nested node\r\n                if (component.parent !== null){\r\n                    source = component.parent;\r\n                    x_modify = x + 200;\r\n                }\r\n\r\n                if (!(component.page in components))\r\n                {\r\n                    components[component.page] = [];\r\n                }\r\n\r\n                // Add node\r\n                components[component.page].push({\r\n                    id: component._id,\r\n                    type: 'component',\r\n                    data: { ...component },\r\n                    position: { x: x_modify, y: y_modify },\r\n                });\r\n                y += 130;\r\n                \r\n                // Add edge\r\n                if (!(component._id in edges))\r\n                {\r\n                    edges[component._id] = [];\r\n                }\r\n\r\n                edges[component._id].push({\r\n                    id: \"e\" + source + \"-\" + component._id,\r\n                    source: source,\r\n                    target: component._id,\r\n                    type: \"step\"\r\n                });\r\n            });\r\n\r\n            commit(CONCAT_COMPONENT_NODES, components);\r\n            vue.$nextTick(() => {\r\n                commit(CONCAT_EDGES, edges);\r\n            })\r\n        })\r\n        .catch(err => {console.log(err);})\r\n    },\r\n    emptyPageNodes({commit}){\r\n        commit(EMPTY_PAGE_NODES);\r\n    },\r\n    emptyComponentNodes({commit}){\r\n        commit(EMPTY_COMPONENT_NODES);\r\n    },\r\n    emptyEdges({commit}){\r\n        commit(EMPTY_EDGES)\r\n    },\r\n    closeComponentNodes({commit}, pageId){\r\n        commit(CLOSE_COMPONENT_NODES, pageId);\r\n    },\r\n    concatPageNodes({commit}, pageNodes){\r\n        commit(CONCAT_PAGE_NODES, pageNodes);\r\n    },\r\n    concatEdges({commit}, edges){\r\n        commit(CONCAT_EDGES, edges);\r\n    },\r\n    createNode({dispatch}, {vue, type, position}){ // deprecated\r\n        switch(type){\r\n            case \"page\":\r\n                return dispatch('createPageNode', {vue:vue, position: position});\r\n            case \"domain\":\r\n                console.log(\"createNode domain is not implemented\")\r\n                return undefined;\r\n        }\r\n    },\r\n    createComponentNode({state, commit}, {vue, position, pageId, parentId}){\r\n         // save Data at DB\r\n         return vue.$apollo.mutate({\r\n            mutation: CREATECOMPONENT_MUTATION,\r\n            variables : {\r\n                component: {\r\n                    _id: \"new_id\",\r\n                    name: \"new_component\",\r\n                    domain: state.domainNode.data._id,\r\n                    page: pageId,\r\n                    parent: parentId,\r\n                    groups: [],\r\n                    components: [],\r\n                    memo: \"\"\r\n                },\r\n            },\r\n        }).then(res => {\r\n            // add to node\r\n            let componentNode = {\r\n                id: res.data.createComponent._id,\r\n                type: 'component',\r\n                position: position,\r\n                data: res.data.createComponent,\r\n            };\r\n\r\n            commit(PUSH_COMPONENT_NODE, componentNode);\r\n\r\n            // create new edge\r\n            let edgeSource = pageId;\r\n\r\n            if(parentId !== null){\r\n                edgeSource = parentId;\r\n            }\r\n\r\n            let newEdge = {\r\n                [componentNode.id]: [{\r\n                    id: \"e\" + edgeSource + \"-\" + componentNode.id,\r\n                    source: edgeSource,\r\n                    target: componentNode.id,\r\n                    type: \"step\"\r\n                }]\r\n            };\r\n\r\n            vue.$nextTick(() => {\r\n                commit(CONCAT_EDGES, newEdge)\r\n            });\r\n\r\n            return componentNode;\r\n        });\r\n    },\r\n    createDomainNode({state, commit}, {vue, url}){\r\n        // save Data at DB\r\n        return vue.$apollo.mutate({\r\n            mutation: CREATEDOMAIN_MUTATION,\r\n            variables : {\r\n                domain: {\r\n                    _id: \"new_id\",\r\n                    url: url,\r\n                    pages: [],\r\n                    memo: \"\"\r\n                },\r\n            },\r\n        }).then(res => {\r\n            // add to node\r\n            let domainNode = {\r\n                id: res.data.createDomain._id,\r\n                type: 'domain',\r\n                position: {x:100, y:100},\r\n                data: res.data.createDomain,\r\n            };\r\n\r\n            commit(SET_DOMAIN_NODE, domainNode);\r\n\r\n            return domainNode;\r\n        });\r\n    },\r\n    createPageNode({state, commit}, {vue, position}){\r\n\r\n        // save Data at DB\r\n        return vue.$apollo.mutate({\r\n            mutation: CREATEPAGE_MUTATION,\r\n            variables : {\r\n                page: {\r\n                    _id: \"new_id\",\r\n                    name: \"new_page\",\r\n                    path: \"new_path\",\r\n                    domain: state.domainNode.data._id,\r\n                    groups: [],\r\n                    components: [],\r\n                    memo: \"\"\r\n                },\r\n            },\r\n        }).then(res => {\r\n            // add to node\r\n            let pageNode = {\r\n                id: res.data.createPage._id,\r\n                type: 'page',\r\n                position: position,\r\n                data: res.data.createPage,\r\n            };\r\n\r\n            commit(PUSH_PAGE_NODE, pageNode);\r\n\r\n            // create new edge\r\n            let newEdge = {\r\n                [pageNode.id]: [{\r\n                    id: \"e\" + state.domainNode.data._id + \"-\" + pageNode.id,\r\n                    source: state.domainNode.data._id,\r\n                    target: pageNode.id,\r\n                    type: \"step\"\r\n                }]\r\n            };\r\n\r\n            vue.$nextTick(() => {\r\n                commit(CONCAT_EDGES, newEdge);\r\n            });\r\n\r\n            return pageNode;\r\n        });\r\n    },\r\n    // deletePageNode({commit}, {vue, id}){\r\n\r\n    //     //graphql\r\n    //     // if the node is already \r\n\r\n    //     commit(DELETE_PAGE_NODE, id)\r\n    // },\r\n    modifyDomainNode({commit}, {vue, oldNode, newDomainData}){\r\n        // save Data at DB\r\n        vue.$apollo.mutate({\r\n            mutation: MODIFYDOMAIN_MUTATION,\r\n            variables : {\r\n                domain: newDomainData\r\n            },\r\n        }).then(res => {\r\n            let newDomainNode = {\r\n                ...oldNode,\r\n                data: res.data.modifyDomain,\r\n            };\r\n\r\n            // update graph\r\n            commit(SET_DOMAIN_NODE, newDomainNode)\r\n        })\r\n    },\r\n    modifyPageNode({commit}, {vue, oldNode, newPageData}){\r\n\r\n        // save Data at DB\r\n        vue.$apollo.mutate({\r\n            mutation: MODIFYPAGE_MUTATION,\r\n            variables : {\r\n                page: newPageData\r\n            },\r\n        }).then(res => {\r\n            let newPageNode = {\r\n                ...oldNode,\r\n                data: res.data.modifyPage,\r\n            };\r\n\r\n            // update graph\r\n            commit(UPDATE_PAGE_NODE, newPageNode)\r\n        })\r\n    },\r\n    modifyComponentNode({commit}, {vue, oldNode, newComponentData}){\r\n        // save Data at DB\r\n        vue.$apollo.mutate({\r\n            mutation: MODIFYCOMPONENT_MUTATION,\r\n            variables : {\r\n                component: newComponentData\r\n            },\r\n        }).then(res => {\r\n            let newComponentNode = {\r\n                ...oldNode,\r\n                data: res.data.modifyComponent,\r\n            };\r\n\r\n            // update graph\r\n            commit(UPDATE_COMPONENT_NODE, newComponentNode)\r\n        })\r\n    },\r\n    setDraggingTag({commit}, name){\r\n        commit(SET_DRAGGING_TAG, name);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/store/actions.js","import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\n\r\nimport state from './states.js'\r\nimport getters from './getters.js'\r\nimport mutations from './mutations.js'\r\nimport actions from './actions.js'\r\n\r\nVue.use(Vuex)\r\n\r\nexport default new Vuex.Store({\r\n    state,\r\n    getters,\r\n    mutations,\r\n    actions\r\n})\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","export default{\r\n    domainNode: null,\r\n    pageNodes: [],\r\n    componentNodes: {}, // {\"sourcePageid\":[ComponentNodeInfo, ComponentNodeInfo, ...]}\r\n    edges: {}, // {\"targetid\":[Edge, Edge, ...], \"targetid\": [Edge, Edge,...]}\r\n\r\n    draggingTag: '',\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/states.js","export default{\r\n    graphElements(state){\r\n\r\n        let graphElements = []\r\n        if(state.domainNode !== null){\r\n            graphElements.push(state.domainNode)\r\n        }\r\n\r\n        graphElements = graphElements.concat(state.pageNodes);\r\n\r\n        for (const key in state.componentNodes){\r\n            graphElements = graphElements.concat(state.componentNodes[key]);\r\n        }\r\n\r\n        for (const key in state.edges){\r\n            graphElements = graphElements.concat(state.edges[key]);\r\n        }\r\n\r\n        return graphElements;\r\n    },\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/store/getters.js","// The Vue build version to load with the `import` command\r\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\r\nimport Vue from 'vue'\r\nimport Vuetify from 'vuetify'\r\nimport 'vuetify/dist/vuetify.min.css'\r\nimport '@mdi/font/css/materialdesignicons.css'\r\nimport 'highlight.js/styles/github.css'\r\n\r\nimport VueApollo from 'vue-apollo'\r\nimport { ApolloClient } from 'apollo-client'\r\nimport { createHttpLink  } from 'apollo-link-http'\r\nimport { InMemoryCache } from 'apollo-cache-inmemory'\r\n\r\nimport App from './App'\r\nimport router from './router'\r\nimport store from './store'\r\nimport { VuePlugin } from 'vuera'\r\n\r\nVue.use(VuePlugin)\r\nVue.use(Vuetify)\r\nVue.config.productionTip = false\r\n\r\nconst vuetifyOptions = { }\r\n\r\nVue.use(VueApollo)\r\n\r\nconst httpLink = new createHttpLink ({\r\n    uri: \"//localhost:3000/graphql\"\r\n})\r\n\r\nconst defaultOptions = {\r\n    watchQuery: {\r\n        fetchPolicy: 'no-cache',\r\n        errorPolicy: 'ignore',\r\n    },\r\n    query: {\r\n        fetchPolicy: 'no-cache',\r\n        errorPolicy: 'all',\r\n    },\r\n}\r\n\r\n// Create the apollo client\r\nexport const apolloClient = new ApolloClient({\r\n    link: httpLink,\r\n    cache: new InMemoryCache({\r\n        addTypename: false\r\n    }),\r\n    connectToDevTools: true,\r\n    defaultOptions: defaultOptions,\r\n})\r\n\r\nconst apolloProvider = new VueApollo({\r\n    defaultClient: apolloClient,\r\n})\r\n\r\nnew Vue({\r\n    el: '#app',\r\n    vuetify: new Vuetify(vuetifyOptions),\r\n    apolloProvider,\r\n    router,\r\n    store,\r\n    components: { App },\r\n    template: '<App/>'\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}